<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/game_mode/dynamic - San Francisco</title></head><body><header><a href="index.html">San Francisco</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/game_mode/dynamic.html#var">Var Details</a> - <a href="datum/game_mode/dynamic.html#proc">Proc Details</a></header><main><h1>dynamic <aside>/<a href="datum.html">datum</a>/<a href="datum/game_mode.html">game_mode</a>/<a href="datum/game_mode/dynamic.html">dynamic</a></aside> <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L34"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 34"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/candidates">candidates</a></th><td>List of candidates used on roundstart rulesets.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/configuration">configuration</a></th><td>Dynamic configuration, loaded on pre_setup</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/current_rules">current_rules</a></th><td>Rules that are processed, rule_process is called on the rules in this list.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/executed_rules">executed_rules</a></th><td>List of executed rulesets.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/extra_rulesets_amount">extra_rulesets_amount</a></th><td>The amount of additional rulesets waiting to be picked.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/forced_injection">forced_injection</a></th><td>When TRUE GetInjectionChance returns 100.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/forced_latejoin_rule">forced_latejoin_rule</a></th><td>Forced ruleset to be executed for the next latejoin.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/highlander_executed">highlander_executed</a></th><td>If a highlander executed.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/latejoin_injection_cooldown">latejoin_injection_cooldown</a></th><td>When world.time is over this number the mode tries to inject a latejoin ruleset.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/latejoin_rules">latejoin_rules</a></th><td>List of latejoin rules used for selecting the rules.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/midround_injection_cooldown">midround_injection_cooldown</a></th><td>When world.time is over this number the mode tries to inject a midround ruleset.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/midround_rules">midround_rules</a></th><td>List of midround rules used for selecting the rules.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/only_ruleset_executed">only_ruleset_executed</a></th><td>If a only ruleset has been executed.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/peaceful_percentage">peaceful_percentage</a></th><td>How many percent of the rounds are more peaceful.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/pop_per_requirement">pop_per_requirement</a></th><td></td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/roundstart_pop_ready">roundstart_pop_ready</a></th><td>Number of players who were ready on roundstart.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/roundstart_rules">roundstart_rules</a></th><td>List of roundstart rules used for selecting the rules.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/second_rule_prob">second_rule_prob</a></th><td>The probability for a second ruleset with index being every ten threat.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/second_rule_req">second_rule_req</a></th><td>The requirement used for checking if a second rule should be selected. Index based on pop_per_requirement.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/third_rule_prob">third_rule_prob</a></th><td>The probability for a third ruleset with index being every ten threat.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/third_rule_req">third_rule_req</a></th><td>The requirement used for checking if a third rule should be selected. Index based on pop_per_requirement.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/threat">threat</a></th><td>Set at the beginning of the round. Spent by the mode to &quot;purchase&quot; rules.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/threat_level">threat_level</a></th><td>The &quot;threat cap&quot;, threat shouldn't normally go above this and is used in ruleset calculations</td></tr><tr><th><a href="datum/game_mode/dynamic.html#var/threat_log">threat_log</a></th><td>Running information about the threat. Can store text or datum entries.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/check_age">check_age</a></th><td>Checks if client age is age or older.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/check_blocking">check_blocking</a></th><td>Checks if a type in blocking_list is in rule_list.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/configure_ruleset">configure_ruleset</a></th><td>Apply configurations to rule.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/create_threat">create_threat</a></th><td>Generate threat and increase the threat_level if it goes beyond, capped at 100</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/execute_midround_latejoin_rule">execute_midround_latejoin_rule</a></th><td>Mainly here to facilitate delayed rulesets. All midround/latejoin rulesets are executed with a timered callback to this proc.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/execute_roundstart_rule">execute_roundstart_rule</a></th><td>Mainly here to facilitate delayed rulesets. All roundstart rulesets are executed with a timered callback to this proc.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/generate_threat">generate_threat</a></th><td>Generates the threat level using lorentz distribution and assigns peaceful_percentage.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/get_injection_chance">get_injection_chance</a></th><td>Gets the chance for latejoin and midround injection, the dry_run argument is only used for forced injection.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/log_dynamic_and_announce">log_dynamic_and_announce</a></th><td>Log to dynamic and message admins</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/lorentz_to_threat">lorentz_to_threat</a></th><td>Turns the value generated by lorentz distribution to threat value between 0 and 100.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/picking_midround_latejoin_rule">picking_midround_latejoin_rule</a></th><td>Picks a random midround OR latejoin rule from the list given as an argument and executes it.
Also this could be named better.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/picking_roundstart_rule">picking_roundstart_rule</a></th><td>Picks a random roundstart rule from the list given as an argument and executes it.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/picking_specific_rule">picking_specific_rule</a></th><td>An experimental proc to allow admins to call rules on the fly or have rules call other rules.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/refund_threat">refund_threat</a></th><td>Refund threat, but no more than threat_level.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/remove_from_list">remove_from_list</a></th><td>Removes type from the list</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/rigged_roundstart">rigged_roundstart</a></th><td>A simple roundstart proc used when dynamic_forced_roundstart_ruleset has rules in it.</td></tr><tr><th><a href="datum/game_mode/dynamic.html#proc/spend_threat">spend_threat</a></th><td>Expend threat, can't fall under 0.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/candidates"><aside class="declaration">var </aside>candidates <aside>– /list</aside> <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L79"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 79"></a></h3><p>List of candidates used on roundstart rulesets.</p><h3 id="var/configuration"><aside class="declaration">var </aside>configuration <aside>– /list</aside> <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L99"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 99"></a></h3><p>Dynamic configuration, loaded on pre_setup</p><h3 id="var/current_rules"><aside class="declaration">var </aside>current_rules <aside>– /list</aside> <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L81"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 81"></a></h3><p>Rules that are processed, rule_process is called on the rules in this list.</p><h3 id="var/executed_rules"><aside class="declaration">var </aside>executed_rules <aside>– /list</aside> <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L83"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 83"></a></h3><p>List of executed rulesets.</p><h3 id="var/extra_rulesets_amount"><aside class="declaration">var </aside>extra_rulesets_amount <aside>– </aside> <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L75"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 75"></a></h3><p>The amount of additional rulesets waiting to be picked.</p><h3 id="var/forced_injection"><aside class="declaration">var </aside>forced_injection <aside>– </aside> <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L89"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 89"></a></h3><p>When TRUE GetInjectionChance returns 100.</p><h3 id="var/forced_latejoin_rule"><aside class="declaration">var </aside>forced_latejoin_rule <aside>– /<a href="datum.html">datum</a>/<a href="datum/dynamic_ruleset.html">dynamic_ruleset</a>/latejoin</aside> <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L91"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 91"></a></h3><p>Forced ruleset to be executed for the next latejoin.</p><h3 id="var/highlander_executed"><aside class="declaration">var </aside>highlander_executed <aside>– </aside> <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L95"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 95"></a></h3><p>If a highlander executed.</p><h3 id="var/latejoin_injection_cooldown"><aside class="declaration">var </aside>latejoin_injection_cooldown <aside>– </aside> <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L85"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 85"></a></h3><p>When world.time is over this number the mode tries to inject a latejoin ruleset.</p><h3 id="var/latejoin_rules"><aside class="declaration">var </aside>latejoin_rules <aside>– /list</aside> <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L54"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 54"></a></h3><p>List of latejoin rules used for selecting the rules.</p><h3 id="var/midround_injection_cooldown"><aside class="declaration">var </aside>midround_injection_cooldown <aside>– </aside> <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L87"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 87"></a></h3><p>When world.time is over this number the mode tries to inject a midround ruleset.</p><h3 id="var/midround_rules"><aside class="declaration">var </aside>midround_rules <aside>– /list</aside> <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L56"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 56"></a></h3><p>List of midround rules used for selecting the rules.</p><h3 id="var/only_ruleset_executed"><aside class="declaration">var </aside>only_ruleset_executed <aside>– </aside> <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L97"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 97"></a></h3><p>If a only ruleset has been executed.</p><h3 id="var/peaceful_percentage"><aside class="declaration">var </aside>peaceful_percentage <aside>– </aside> <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L93"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 93"></a></h3><p>How many percent of the rounds are more peaceful.</p><h3 id="var/pop_per_requirement"><aside class="declaration">var </aside>pop_per_requirement <aside>– </aside> <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L65"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 65"></a></h3><ul>
<li><h1 id="pop-range-per-requirement">Pop range per requirement.</h1>
<pre><code>* If the value is five the range is:
* 0-4, 5-9, 10-14, 15-19, 20-24, 25-29, 30-34, 35-39, 40-54, 45+
* If it is six the range is:
* 0-5, 6-11, 12-17, 18-23, 24-29, 30-35, 36-41, 42-47, 48-53, 54+
* If it is seven the range is:
* 0-6, 7-13, 14-20, 21-27, 28-34, 35-41, 42-48, 49-55, 56-62, 63+
</code></pre>
</li>
</ul><h3 id="var/roundstart_pop_ready"><aside class="declaration">var </aside>roundstart_pop_ready <aside>– </aside> <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L77"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 77"></a></h3><p>Number of players who were ready on roundstart.</p><h3 id="var/roundstart_rules"><aside class="declaration">var </aside>roundstart_rules <aside>– /list</aside> <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L52"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 52"></a></h3><p>List of roundstart rules used for selecting the rules.</p><h3 id="var/second_rule_prob"><aside class="declaration">var </aside>second_rule_prob <aside>– /list</aside> <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L69"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 69"></a></h3><p>The probability for a second ruleset with index being every ten threat.</p><h3 id="var/second_rule_req"><aside class="declaration">var </aside>second_rule_req <aside>– /list</aside> <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L67"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 67"></a></h3><p>The requirement used for checking if a second rule should be selected. Index based on pop_per_requirement.</p><h3 id="var/third_rule_prob"><aside class="declaration">var </aside>third_rule_prob <aside>– /list</aside> <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L73"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 73"></a></h3><p>The probability for a third ruleset with index being every ten threat.</p><h3 id="var/third_rule_req"><aside class="declaration">var </aside>third_rule_req <aside>– /list</aside> <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L71"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 71"></a></h3><p>The requirement used for checking if a third rule should be selected. Index based on pop_per_requirement.</p><h3 id="var/threat"><aside class="declaration">var </aside>threat <aside>– </aside> <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L48"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 48"></a></h3><p>Set at the beginning of the round. Spent by the mode to &quot;purchase&quot; rules.</p><h3 id="var/threat_level"><aside class="declaration">var </aside>threat_level <aside>– </aside> <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L46"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 46"></a></h3><p>The &quot;threat cap&quot;, threat shouldn't normally go above this and is used in ruleset calculations</p><h3 id="var/threat_log"><aside class="declaration">var </aside>threat_log <aside>– /list</aside> <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L50"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 50"></a></h3><p>Running information about the threat. Can store text or datum entries.</p><h2 id="proc">Proc Details</h2><h3 id="proc/check_age"><aside class="declaration">proc </aside>check_age<aside>(/<a href="client.html">client</a>/C, age)  <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L637"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 637"></a></aside></h3><p>Checks if client age is age or older.</p><h3 id="proc/check_blocking"><aside class="declaration">proc </aside>check_blocking<aside>(/list/blocking_list, /list/rule_list)  <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L628"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 628"></a></aside></h3><p>Checks if a type in blocking_list is in rule_list.</p><h3 id="proc/configure_ruleset"><aside class="declaration">proc </aside>configure_ruleset<aside>(/<a href="datum.html">datum</a>/<a href="datum/dynamic_ruleset.html">dynamic_ruleset</a>/ruleset)  <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L683"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 683"></a></aside></h3><p>Apply configurations to rule.</p><h3 id="proc/create_threat"><aside class="declaration">proc </aside>create_threat<aside>(gain)  <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L700"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 700"></a></aside></h3><p>Generate threat and increase the threat_level if it goes beyond, capped at 100</p><h3 id="proc/execute_midround_latejoin_rule"><aside class="declaration">proc </aside>execute_midround_latejoin_rule<aside>(sent_rule)  <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L534"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 534"></a></aside></h3><p>Mainly here to facilitate delayed rulesets. All midround/latejoin rulesets are executed with a timered callback to this proc.</p><h3 id="proc/execute_roundstart_rule"><aside class="declaration">proc </aside>execute_roundstart_rule<aside>(sent_rule)  <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L442"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 442"></a></aside></h3><p>Mainly here to facilitate delayed rulesets. All roundstart rulesets are executed with a timered callback to this proc.</p><h3 id="proc/generate_threat"><aside class="declaration">proc </aside>generate_threat<aside>()  <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L231"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 231"></a></aside></h3><p>Generates the threat level using lorentz distribution and assigns peaceful_percentage.</p><h3 id="proc/get_injection_chance"><aside class="declaration">proc </aside>get_injection_chance<aside>(dry_run)  <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L598"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 598"></a></aside></h3><p>Gets the chance for latejoin and midround injection, the dry_run argument is only used for forced injection.</p><h3 id="proc/log_dynamic_and_announce"><aside class="declaration">proc </aside>log_dynamic_and_announce<aside>(text)  <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/__HELPERS/logging/dynamic.dm#L2"><img src="git.png" width="16" height="16" title="code/__HELPERS/logging/dynamic.dm 2"></a></aside></h3><p>Log to dynamic and message admins</p><h3 id="proc/lorentz_to_threat"><aside class="declaration">proc </aside>lorentz_to_threat<aside>(x)  <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L710"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 710"></a></aside></h3><p>Turns the value generated by lorentz distribution to threat value between 0 and 100.</p><h3 id="proc/picking_midround_latejoin_rule"><aside class="declaration">proc </aside>picking_midround_latejoin_rule<aside>(/list/drafted_rules, forced)  <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L455"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 455"></a></aside></h3><p>Picks a random midround OR latejoin rule from the list given as an argument and executes it.
Also this could be named better.</p><h3 id="proc/picking_roundstart_rule"><aside class="declaration">proc </aside>picking_roundstart_rule<aside>(/list/drafted_rules, forced)  <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L378"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 378"></a></aside></h3><p>Picks a random roundstart rule from the list given as an argument and executes it.</p><h3 id="proc/picking_specific_rule"><aside class="declaration">proc </aside>picking_specific_rule<aside>(ruletype, forced)  <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L488"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 488"></a></aside></h3><p>An experimental proc to allow admins to call rules on the fly or have rules call other rules.</p><h3 id="proc/refund_threat"><aside class="declaration">proc </aside>refund_threat<aside>(regain)  <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L696"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 696"></a></aside></h3><p>Refund threat, but no more than threat_level.</p><h3 id="proc/remove_from_list"><aside class="declaration">proc </aside>remove_from_list<aside>(/list/type_list, type)  <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L621"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 621"></a></aside></h3><p>Removes type from the list</p><h3 id="proc/rigged_roundstart"><aside class="declaration">proc </aside>rigged_roundstart<aside>()  <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L320"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 320"></a></aside></h3><p>A simple roundstart proc used when dynamic_forced_roundstart_ruleset has rules in it.</p><h3 id="proc/spend_threat"><aside class="declaration">proc </aside>spend_threat<aside>(cost)  <a href="https://github.com/necti-dev/The-Final-Nights/blob/5159182f78de919fb535f5e50f033bd792a6749c/code/game/gamemodes/dynamic/dynamic.dm#L706"><img src="git.png" width="16" height="16" title="code/game/gamemodes/dynamic/dynamic.dm 706"></a></aside></h3><p>Expend threat, can't fall under 0.</p></main><footer>tgstation.dme <a href="https://github.com/necti-dev/The-Final-Nights/tree/5159182f78de919fb535f5e50f033bd792a6749c">5159182</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>